{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { ref, computed } from 'vue';\nexport default {\n  __name: 'FoodWaterfall',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const searchQuery = ref('');\n    const cart = ref({}); // { foodId: quantity }\n\n    // Ê®°ÊãüÊï∞ÊçÆÔºöÂåÖÂê´ AI Êé®ËçêÁêÜÁî±Âíå‰∏çÂêå‰ª∑Ê†º\n    const foods = ref([{\n      id: 1,\n      name: 'È∫ªÂ©ÜË±ÜËÖê PRO',\n      description: 'ÈááÁî®ÈªëÁå™ËÇâÊú´ÔºåÈÖçÂêàÂõõÂ∑ùÁ©∫ËøêËä±Ê§í„ÄÇ',\n      originalPrice: 32,\n      currentPrice: 28,\n      sales: 1200,\n      rating: 4.9,\n      icon: 'üç≤',\n      aiReason: 'Âõ†‰∏∫‰Ω†‰∏äÂë®ÁÇπ‰∫ÜÂæÆËæ£ÁÅ´ÈîÖÔºåËøôÈÅìÊñ∞ÂìÅ‰Ω†‰ºöÂñúÊ¨¢„ÄÇ'\n    }, {\n      id: 2,\n      name: 'ËΩªÈ£üÈ∏°ËÉ∏ËÉΩÈáèÁ¢ó',\n      description: '‰ΩéÂç°Ë∑ØÈáåÔºåÈÄÇÂêàÂÅ•Ë∫´‰∫∫Â£´ÔºåÊê≠ÈÖçÊ≤πÈÜãÊ±Å„ÄÇ',\n      originalPrice: 45,\n      currentPrice: 38,\n      sales: 850,\n      rating: 4.7,\n      icon: 'ü•ó',\n      aiReason: null // Êó†Êé®ËçêÁêÜÁî±\n    }, {\n      id: 3,\n      name: 'Êö¥ÊâìÊü†Ê™¨Ëå∂',\n      description: 'ÊâãÊâìÈ¶ôÊ∞¥Êü†Ê™¨ÔºåËß£Ëæ£Á•ûÂô®„ÄÇ',\n      originalPrice: 22,\n      currentPrice: 18,\n      sales: 3000,\n      rating: 4.8,\n      icon: 'üçã',\n      aiReason: 'Ëß£Ëæ£ÂøÖÂ§áÔºÅÊê≠ÈÖçÈ∫ªÂ©ÜË±ÜËÖê‰∫´ 8 Êäò„ÄÇ'\n    }, {\n      id: 4,\n      name: 'Ëá≥Â∞äÁÉ§È∏≠ÂçäÂè™',\n      description: 'ÊûúÊú®ÁÇ≠ÁÅ´ÁÉ§Âà∂ÔºåÁöÆËÑÜËÇâÂ´©„ÄÇ',\n      originalPrice: 128,\n      currentPrice: 98,\n      sales: 400,\n      rating: 4.9,\n      icon: 'ü¶Ü',\n      aiReason: 'Âë®‰∫îÁâπÊÉ†ÔºÅÂ•ñÂä±ËæõËã¶Â∑•‰ΩúÁöÑËá™Â∑±„ÄÇ'\n    }]);\n\n    // ÊêúÁ¥¢ËøáÊª§ÈÄªËæë\n    const filteredFoods = computed(() => {\n      if (!searchQuery.value) return foods.value;\n      const query = searchQuery.value.toLowerCase();\n      return foods.value.filter(food => food.name.toLowerCase().includes(query) || food.description.toLowerCase().includes(query) || food.aiReason && food.aiReason.toLowerCase().includes(query));\n    });\n\n    // Ë¥≠Áâ©ËΩ¶ÈÄªËæë\n    const getCartCount = id => cart.value[id] || 0;\n    const updateCart = (food, change) => {\n      const current = cart.value[food.id] || 0;\n      const newCount = current + change;\n      if (newCount <= 0) {\n        delete cart.value[food.id];\n      } else {\n        cart.value[food.id] = newCount;\n      }\n    };\n    const totalCartCount = computed(() => {\n      return Object.values(cart.value).reduce((a, b) => a + b, 0);\n    });\n    const totalCartPrice = computed(() => {\n      let total = 0;\n      for (const [id, count] of Object.entries(cart.value)) {\n        const food = foods.value.find(f => f.id == id);\n        if (food) total += food.currentPrice * count;\n      }\n      return total;\n    });\n    const __returned__ = {\n      searchQuery,\n      cart,\n      foods,\n      filteredFoods,\n      getCartCount,\n      updateCart,\n      totalCartCount,\n      totalCartPrice,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","searchQuery","cart","foods","id","name","description","originalPrice","currentPrice","sales","rating","icon","aiReason","filteredFoods","value","query","toLowerCase","filter","food","includes","getCartCount","updateCart","change","current","newCount","totalCartCount","Object","values","reduce","a","b","totalCartPrice","total","count","entries","find","f"],"sources":["/Users/leon/Desktop/Code/‰Ωú‰∏ö/webÂºÄÂèë/vue/my-food/src/components/FoodWaterfall.vue"],"sourcesContent":["<template>\n    <div class=\"space-y-6\">\n      \n      <div class=\"bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-500/30 rounded-xl p-4 flex items-center justify-between\">\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-xl animate-pulse\">ü§ñ</div>\n          <div>\n            <h3 class=\"font-bold text-blue-200\">AI ‰ºòÈÄâ‰∏ÄÂè£‰ª∑</h3>\n            <p class=\"text-xs text-gray-400\">Ê†πÊçÆ‰Ω†ÁöÑÂéÜÂè≤Âè£Âë≥ÔºàÂÅèÁà±È∫ªËæ£ÔºâÔºåÂ∑≤‰∏∫‰Ω†ÈÖçÁΩÆÊúÄ‰Ω≥ÁªÑÂêàÔºåÊØîÂçïÁÇπÁúÅ 15%</p>\n          </div>\n        </div>\n        <button class=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold rounded-lg transition\">\n          ‰∏ÄÈîÆ‰∏ãÂçï ¬•45.8\n        </button>\n      </div>\n  \n      <div class=\"sticky top-20 z-30 bg-[#0B0F19]/90 backdrop-blur py-2\">\n        <div class=\"relative\">\n          <input \n            v-model=\"searchQuery\"\n            type=\"text\" \n            placeholder=\"üîç ÊêúÁ¥¢ÁæéÈ£üÔºàÂ¶ÇÔºöÂæÆËæ£„ÄÅÁâõËÇâ„ÄÅ‰ΩéÂç°...Ôºâ\"\n            class=\"w-full bg-gray-900 border border-white/10 rounded-xl pl-12 pr-4 py-3 focus:border-blue-500 focus:outline-none transition-colors text-sm\"\n          >\n          <span class=\"absolute left-4 top-1/2 -translate-y-1/2 text-xl\">ü•ò</span>\n        </div>\n      </div>\n  \n      <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        <div \n          v-for=\"food in filteredFoods\" \n          :key=\"food.id\"\n          class=\"bg-gray-900/50 border border-white/10 rounded-xl overflow-hidden food-card-hover group relative flex flex-col\"\n        >\n          <div v-if=\"food.aiReason\" class=\"absolute top-2 left-2 right-2 z-10\">\n            <div class=\"bg-black/60 backdrop-blur-md border border-blue-500/30 text-blue-300 text-xs px-3 py-2 rounded-lg shadow-lg flex items-start gap-2\">\n              <span class=\"text-base\">üí°</span>\n              <span>{{ food.aiReason }}</span>\n            </div>\n          </div>\n  \n          <div class=\"h-40 w-full bg-gradient-to-br from-gray-800 to-gray-700 flex items-center justify-center relative overflow-hidden\">\n            <span class=\"text-6xl transform group-hover:scale-110 transition duration-500\">{{ food.icon }}</span>\n          </div>\n  \n          <div class=\"p-4 flex-1 flex flex-col\">\n            <div class=\"flex justify-between items-start mb-2\">\n              <h3 class=\"font-bold text-lg text-white truncate\">{{ food.name }}</h3>\n              <div class=\"text-right\">\n                <span class=\"block text-xs text-gray-500\">ÊúàÂîÆ {{ food.sales }}+</span>\n                <span class=\"block text-xs text-yellow-500 font-bold\">‚≠ê {{ food.rating }}</span>\n              </div>\n            </div>\n  \n            <p class=\"text-gray-500 text-xs mb-4 line-clamp-2 flex-1\">{{ food.description }}</p>\n  \n            <div class=\"mt-auto flex items-end justify-between border-t border-white/5 pt-3\">\n              <div>\n                <div class=\"flex items-baseline gap-2\">\n                  <span class=\"text-xl font-bold text-red-400\">¬•{{ food.currentPrice }}</span>\n                  <span class=\"text-xs text-gray-600 line-through decoration-gray-500\">¬•{{ food.originalPrice }}</span>\n                </div>\n              </div>\n  \n              <div v-if=\"getCartCount(food.id) > 0\" class=\"flex items-center gap-3 bg-gray-800 rounded-lg px-2 py-1\">\n                <button @click=\"updateCart(food, -1)\" class=\"text-gray-400 hover:text-white font-bold px-1\">-</button>\n                <span class=\"text-sm font-bold text-white\">{{ getCartCount(food.id) }}</span>\n                <button @click=\"updateCart(food, 1)\" class=\"text-blue-400 hover:text-blue-300 font-bold px-1\">+</button>\n              </div>\n              <button v-else @click=\"updateCart(food, 1)\" class=\"bg-blue-600 hover:bg-blue-500 text-white p-2 rounded-lg shadow-lg shadow-blue-900/20 transition\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/></svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <div v-if=\"totalCartCount > 0\" class=\"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-md bg-[#1A1F2E] border border-blue-500/30 rounded-full p-2 pr-6 shadow-2xl shadow-blue-900/30 flex items-center justify-between z-50 backdrop-blur-md\">\n        <div class=\"flex items-center gap-4\">\n          <div class=\"bg-blue-600 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg relative\">\n            üõí\n            <span class=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center border-2 border-[#1A1F2E]\">{{ totalCartCount }}</span>\n          </div>\n          <div>\n            <p class=\"text-white font-bold text-lg\">¬•{{ totalCartPrice }}</p>\n            <p class=\"text-xs text-gray-400\">È¢ÑËÆ° 25 ÂàÜÈíüÂêéÈÄÅËææ</p>\n          </div>\n        </div>\n        <button class=\"text-blue-400 font-bold text-sm hover:text-white transition\">ÂéªÁªìÁÆó ></button>\n      </div>\n  \n    </div>\n  </template>\n  \n  <script setup>\n  import { ref, computed } from 'vue'\n  \n  const searchQuery = ref('')\n  const cart = ref({}) // { foodId: quantity }\n  \n  // Ê®°ÊãüÊï∞ÊçÆÔºöÂåÖÂê´ AI Êé®ËçêÁêÜÁî±Âíå‰∏çÂêå‰ª∑Ê†º\n  const foods = ref([\n    { \n      id: 1, \n      name: 'È∫ªÂ©ÜË±ÜËÖê PRO', \n      description: 'ÈááÁî®ÈªëÁå™ËÇâÊú´ÔºåÈÖçÂêàÂõõÂ∑ùÁ©∫ËøêËä±Ê§í„ÄÇ', \n      originalPrice: 32, \n      currentPrice: 28, \n      sales: 1200, \n      rating: 4.9, \n      icon: 'üç≤',\n      aiReason: 'Âõ†‰∏∫‰Ω†‰∏äÂë®ÁÇπ‰∫ÜÂæÆËæ£ÁÅ´ÈîÖÔºåËøôÈÅìÊñ∞ÂìÅ‰Ω†‰ºöÂñúÊ¨¢„ÄÇ'\n    },\n    { \n      id: 2, \n      name: 'ËΩªÈ£üÈ∏°ËÉ∏ËÉΩÈáèÁ¢ó', \n      description: '‰ΩéÂç°Ë∑ØÈáåÔºåÈÄÇÂêàÂÅ•Ë∫´‰∫∫Â£´ÔºåÊê≠ÈÖçÊ≤πÈÜãÊ±Å„ÄÇ', \n      originalPrice: 45, \n      currentPrice: 38, \n      sales: 850, \n      rating: 4.7, \n      icon: 'ü•ó',\n      aiReason: null // Êó†Êé®ËçêÁêÜÁî±\n    },\n    { \n      id: 3, \n      name: 'Êö¥ÊâìÊü†Ê™¨Ëå∂', \n      description: 'ÊâãÊâìÈ¶ôÊ∞¥Êü†Ê™¨ÔºåËß£Ëæ£Á•ûÂô®„ÄÇ', \n      originalPrice: 22, \n      currentPrice: 18, \n      sales: 3000, \n      rating: 4.8, \n      icon: 'üçã',\n      aiReason: 'Ëß£Ëæ£ÂøÖÂ§áÔºÅÊê≠ÈÖçÈ∫ªÂ©ÜË±ÜËÖê‰∫´ 8 Êäò„ÄÇ'\n    },\n    { \n      id: 4, \n      name: 'Ëá≥Â∞äÁÉ§È∏≠ÂçäÂè™', \n      description: 'ÊûúÊú®ÁÇ≠ÁÅ´ÁÉ§Âà∂ÔºåÁöÆËÑÜËÇâÂ´©„ÄÇ', \n      originalPrice: 128, \n      currentPrice: 98, \n      sales: 400, \n      rating: 4.9, \n      icon: 'ü¶Ü',\n      aiReason: 'Âë®‰∫îÁâπÊÉ†ÔºÅÂ•ñÂä±ËæõËã¶Â∑•‰ΩúÁöÑËá™Â∑±„ÄÇ'\n    }\n  ])\n  \n  // ÊêúÁ¥¢ËøáÊª§ÈÄªËæë\n  const filteredFoods = computed(() => {\n    if (!searchQuery.value) return foods.value\n    const query = searchQuery.value.toLowerCase()\n    return foods.value.filter(food => \n      food.name.toLowerCase().includes(query) || \n      food.description.toLowerCase().includes(query) ||\n      (food.aiReason && food.aiReason.toLowerCase().includes(query))\n    )\n  })\n  \n  // Ë¥≠Áâ©ËΩ¶ÈÄªËæë\n  const getCartCount = (id) => cart.value[id] || 0\n  \n  const updateCart = (food, change) => {\n    const current = cart.value[food.id] || 0\n    const newCount = current + change\n    if (newCount <= 0) {\n      delete cart.value[food.id]\n    } else {\n      cart.value[food.id] = newCount\n    }\n  }\n  \n  const totalCartCount = computed(() => {\n    return Object.values(cart.value).reduce((a, b) => a + b, 0)\n  })\n  \n  const totalCartPrice = computed(() => {\n    let total = 0\n    for (const [id, count] of Object.entries(cart.value)) {\n      const food = foods.value.find(f => f.id == id)\n      if (food) total += food.currentPrice * count\n    }\n    return total\n  })\n  </script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}