{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, computed } from 'vue';\nexport default {\n  __name: 'MerchantDashboard',\n  emits: ['add-shop'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    /* eslint-disable no-undef */\n    const emit = __emit;\n    const shopForm = ref({\n      name: '',\n      tags: '',\n      previewImage: null,\n      menu: [{\n        name: '',\n        price: null,\n        description: '',\n        icon: 'ü•ò'\n      } // ÈªòËÆ§‰∏ÄË°å\n      ]\n    });\n\n    // ÁÆÄÂçïÁöÑÊ†°È™å\n    const isValid = computed(() => {\n      return shopForm.value.name.trim() && shopForm.value.menu.some(d => d.name && d.price);\n    });\n    const handleShopImageUpload = event => {\n      const file = event.target.files[0];\n      if (file) shopForm.value.previewImage = URL.createObjectURL(file);\n    };\n    const removeShopImage = () => {\n      shopForm.value.previewImage = null;\n    };\n    const addEmptyDish = () => {\n      shopForm.value.menu.push({\n        name: '',\n        price: null,\n        description: '',\n        icon: 'üç¥'\n      });\n    };\n    const removeDish = index => {\n      shopForm.value.menu.splice(index, 1);\n    };\n    const publishShop = () => {\n      // ÊûÑÈÄ†Êï∞ÊçÆÁªìÊûÑ\n      const newShop = {\n        id: Date.now(),\n        name: shopForm.value.name,\n        image: shopForm.value.previewImage || 'https://via.placeholder.com/400x200?text=No+Image',\n        // ÈªòËÆ§Âõæ\n        tags: shopForm.value.tags.split(/[,Ôºå]/).map(t => t.trim()).filter(Boolean),\n        rating: 5.0,\n        // Êñ∞Â∫óÈªòËÆ§5ÂàÜ\n        sales: 0,\n        menu: shopForm.value.menu.filter(d => d.name && d.price).map((d, i) => ({\n          id: Date.now() + i,\n          name: d.name,\n          currentPrice: d.price,\n          originalPrice: Math.floor(d.price * 1.2),\n          // Ê®°ÊãüÂéü‰ª∑\n          description: d.description || 'ÊöÇÊó†ÊèèËø∞',\n          sales: 0,\n          rating: 5.0,\n          icon: d.icon,\n          aiReason: i === 0 ? 'Â∫óÈïøÊé®ËçêÊñ∞ÂìÅ' : null // ÁÆÄÂçïÁöÑAIÁêÜÁî±Ê®°Êãü\n        }))\n      };\n      emit('add-shop', newShop);\n\n      // ÈáçÁΩÆË°®Âçï\n      alert(`Â∫óÈì∫ \"${newShop.name}\" ÂèëÂ∏ÉÊàêÂäüÔºÅËØ∑ÂàáÊç¢Âà∞Áî®Êà∑Ê®°ÂºèÊü•Áúã„ÄÇ`);\n      shopForm.value = {\n        name: '',\n        tags: '',\n        previewImage: null,\n        menu: [{\n          name: '',\n          price: null,\n          description: '',\n          icon: 'ü•ò'\n        }]\n      };\n    };\n    const __returned__ = {\n      emit,\n      shopForm,\n      isValid,\n      handleShopImageUpload,\n      removeShopImage,\n      addEmptyDish,\n      removeDish,\n      publishShop,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","emit","__emit","shopForm","name","tags","previewImage","menu","price","description","icon","isValid","value","trim","some","d","handleShopImageUpload","event","file","target","files","URL","createObjectURL","removeShopImage","addEmptyDish","push","removeDish","index","splice","publishShop","newShop","id","Date","now","image","split","map","t","filter","Boolean","rating","sales","i","currentPrice","originalPrice","Math","floor","aiReason","alert"],"sources":["/Users/leon/Desktop/Code/‰Ωú‰∏ö/webÂºÄÂèë/vue/my-food/src/components/MerchantDashboard.vue"],"sourcesContent":["<template>\n    <div class=\"space-y-8 pb-20\">\n      <div class=\"bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-500/30 rounded-2xl p-6\">\n        <h2 class=\"text-2xl font-bold flex items-center gap-3\">\n          <span class=\"text-3xl\">üè™</span> ÂïÜÂÆ∂ÂÖ•È©ª / Êñ∞ÂìÅ‰∏äÊû∂\n        </h2>\n        <p class=\"text-gray-400 text-sm mt-2\">ËØ∑ÂÆåÂñÑÂ∫óÈì∫Âü∫Êú¨‰ø°ÊÅØÂèäËèúÂçïÈÖçÁΩÆ</p>\n      </div>\n  \n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        \n        <div class=\"space-y-6\">\n          <div class=\"bg-gray-900/50 border border-white/10 rounded-2xl p-6\">\n            <h3 class=\"text-lg font-bold mb-4 text-blue-300\">1. Â∫óÈì∫Ê°£Ê°à</h3>\n            \n            <div class=\"space-y-4\">\n              <div>\n                <label class=\"block text-sm text-gray-400 mb-1\">Â∫óÈì∫ÂêçÁß∞</label>\n                <input v-model=\"shopForm.name\" type=\"text\" placeholder=\"‰æãÂ¶ÇÔºöÂ∑ùÊ∏ùÁÅ´ÈîÖÂ±Ä\" class=\"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 focus:border-blue-500 focus:outline-none\">\n              </div>\n  \n              <div>\n                <label class=\"block text-sm text-gray-400 mb-1\">Â∫óÈì∫Ê†áÁ≠æ (Áî®ÈÄóÂè∑ÂàÜÈöî)</label>\n                <input v-model=\"shopForm.tags\" type=\"text\" placeholder=\"‰æãÂ¶ÇÔºöÂ∑ùËèú, Ëæ£, ËÄÅÂ≠óÂè∑\" class=\"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 focus:border-blue-500 focus:outline-none\">\n              </div>\n  \n              <div>\n                <label class=\"block text-sm text-gray-400 mb-2\">Â∫óÈì∫Â∞ÅÈù¢Âõæ</label>\n                <div class=\"flex items-start gap-4\">\n                  <div v-if=\"shopForm.previewImage\" class=\"w-32 h-32 rounded-xl overflow-hidden border border-white/10 relative group\">\n                    <img :src=\"shopForm.previewImage\" class=\"w-full h-full object-cover\">\n                    <button @click=\"removeShopImage\" class=\"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-red-400\">Âà†Èô§</button>\n                  </div>\n                  <label v-else class=\"w-32 h-32 rounded-xl border-2 border-dashed border-white/20 flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 hover:text-blue-500 transition text-gray-500\">\n                    <span class=\"text-2xl\">+</span>\n                    <span class=\"text-xs mt-1\">‰∏ä‰º†Â∞ÅÈù¢</span>\n                    <input type=\"file\" accept=\"image/*\" class=\"hidden\" @change=\"handleShopImageUpload\">\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  \n        <div class=\"space-y-6\">\n          <div class=\"bg-gray-900/50 border border-white/10 rounded-2xl p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h3 class=\"text-lg font-bold text-purple-300\">2. ËèúÂçïÁÆ°ÁêÜ</h3>\n              <button @click=\"addEmptyDish\" class=\"text-xs bg-gray-800 hover:bg-gray-700 px-3 py-1 rounded-lg border border-white/10 transition\">+ Ê∑ªÂä†‰∏ÄË°å</button>\n            </div>\n  \n            <div class=\"space-y-4 max-h-[500px] overflow-y-auto pr-2\">\n              <div v-for=\"(dish, index) in shopForm.menu\" :key=\"index\" class=\"bg-black/20 p-4 rounded-xl border border-white/5 relative group\">\n                <button @click=\"removeDish(index)\" class=\"absolute top-2 right-2 text-gray-600 hover:text-red-400 transition\">‚úï</button>\n                \n                <div class=\"grid grid-cols-[60px_1fr] gap-4\">\n                  <div class=\"flex items-center justify-center bg-gray-800 rounded-lg text-2xl h-full cursor-pointer hover:bg-gray-700\" title=\"ÁÇπÂáªÂàáÊç¢ÂõæÊ†á\">\n                    <input v-model=\"dish.icon\" type=\"text\" class=\"w-full h-full bg-transparent text-center focus:outline-none\" placeholder=\"üç≤\">\n                  </div>\n                  \n                  <div class=\"space-y-2\">\n                    <div class=\"flex gap-2\">\n                      <input v-model=\"dish.name\" type=\"text\" placeholder=\"ËèúÂìÅÂêçÁß∞\" class=\"flex-1 bg-transparent border-b border-white/10 focus:border-blue-500 focus:outline-none text-sm pb-1\">\n                      <input v-model.number=\"dish.price\" type=\"number\" placeholder=\"‰ª∑Ê†º\" class=\"w-20 bg-transparent border-b border-white/10 focus:border-blue-500 focus:outline-none text-sm pb-1 text-right\">\n                    </div>\n                    <input v-model=\"dish.description\" type=\"text\" placeholder=\"ÊèèËø∞ÔºàÂ¶ÇÔºöÂæÆËæ£ÔºåÊé®ËçêÔºâ\" class=\"w-full bg-transparent text-xs text-gray-500 focus:outline-none\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <div class=\"fixed bottom-0 left-0 w-full bg-[#0B0F19]/90 backdrop-blur-lg border-t border-white/10 p-4 z-40\">\n        <div class=\"max-w-7xl mx-auto flex justify-end gap-4\">\n          <button class=\"px-6 py-3 rounded-xl text-gray-400 font-bold hover:text-white transition\">ÈáçÁΩÆ</button>\n          <button \n            @click=\"publishShop\"\n            :disabled=\"!isValid\"\n            class=\"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl font-bold text-white shadow-lg hover:shadow-blue-500/20 transition disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Á´ãÂç≥ÂèëÂ∏ÉÂ∫óÈì∫\n          </button>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script setup>\n  /* eslint-disable no-undef */\n  import { ref, computed } from 'vue'\n  \n  const emit = defineEmits(['add-shop'])\n  \n  const shopForm = ref({\n    name: '',\n    tags: '',\n    previewImage: null,\n    menu: [\n      { name: '', price: null, description: '', icon: 'ü•ò' } // ÈªòËÆ§‰∏ÄË°å\n    ]\n  })\n  \n  // ÁÆÄÂçïÁöÑÊ†°È™å\n  const isValid = computed(() => {\n    return shopForm.value.name.trim() && \n           shopForm.value.menu.some(d => d.name && d.price)\n  })\n  \n  const handleShopImageUpload = (event) => {\n    const file = event.target.files[0]\n    if (file) shopForm.value.previewImage = URL.createObjectURL(file)\n  }\n  \n  const removeShopImage = () => {\n    shopForm.value.previewImage = null\n  }\n  \n  const addEmptyDish = () => {\n    shopForm.value.menu.push({ name: '', price: null, description: '', icon: 'üç¥' })\n  }\n  \n  const removeDish = (index) => {\n    shopForm.value.menu.splice(index, 1)\n  }\n  \n  const publishShop = () => {\n    // ÊûÑÈÄ†Êï∞ÊçÆÁªìÊûÑ\n    const newShop = {\n      id: Date.now(),\n      name: shopForm.value.name,\n      image: shopForm.value.previewImage || 'https://via.placeholder.com/400x200?text=No+Image', // ÈªòËÆ§Âõæ\n      tags: shopForm.value.tags.split(/[,Ôºå]/).map(t => t.trim()).filter(Boolean),\n      rating: 5.0, // Êñ∞Â∫óÈªòËÆ§5ÂàÜ\n      sales: 0,\n      menu: shopForm.value.menu.filter(d => d.name && d.price).map((d, i) => ({\n        id: Date.now() + i,\n        name: d.name,\n        currentPrice: d.price,\n        originalPrice: Math.floor(d.price * 1.2), // Ê®°ÊãüÂéü‰ª∑\n        description: d.description || 'ÊöÇÊó†ÊèèËø∞',\n        sales: 0,\n        rating: 5.0,\n        icon: d.icon,\n        aiReason: i === 0 ? 'Â∫óÈïøÊé®ËçêÊñ∞ÂìÅ' : null // ÁÆÄÂçïÁöÑAIÁêÜÁî±Ê®°Êãü\n      }))\n    }\n  \n    emit('add-shop', newShop)\n    \n    // ÈáçÁΩÆË°®Âçï\n    alert(`Â∫óÈì∫ \"${newShop.name}\" ÂèëÂ∏ÉÊàêÂäüÔºÅËØ∑ÂàáÊç¢Âà∞Áî®Êà∑Ê®°ÂºèÊü•Áúã„ÄÇ`)\n    shopForm.value = {\n      name: '',\n      tags: '',\n      previewImage: null,\n      menu: [{ name: '', price: null, description: '', icon: 'ü•ò' }]\n    }\n  }\n  </script>"],"mappings":";;;;;;;;AA2FE,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;;;;;;;;;;IADlC;IAGA,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,QAAQ,GAAGJ,GAAG,CAAC;MACnBK,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,YAAY,EAAE,IAAI;MAClBC,IAAI,EAAE,CACJ;QAAEH,IAAI,EAAE,EAAE;QAAEI,KAAK,EAAE,IAAI;QAAEC,WAAW,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;MAAA;IAE3D,CAAC;;IAED;IACA,MAAMC,OAAO,GAAGX,QAAQ,CAAC,MAAM;MAC7B,OAAOG,QAAQ,CAACS,KAAK,CAACR,IAAI,CAACS,IAAI,CAAC,CAAC,IAC1BV,QAAQ,CAACS,KAAK,CAACL,IAAI,CAACO,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACX,IAAI,IAAIW,CAAC,CAACP,KAAK;IACxD,CAAC;IAED,MAAMQ,qBAAqB,GAAIC,KAAK,IAAK;MACvC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;MACjC,IAAIF,IAAI,EAAEf,QAAQ,CAACS,KAAK,CAACN,YAAY,GAAGe,GAAG,CAACC,eAAe,CAACJ,IAAI;IAClE;IAEA,MAAMK,eAAe,GAAGA,CAAA,KAAM;MAC5BpB,QAAQ,CAACS,KAAK,CAACN,YAAY,GAAG,IAAG;IACnC;IAEA,MAAMkB,YAAY,GAAGA,CAAA,KAAM;MACzBrB,QAAQ,CAACS,KAAK,CAACL,IAAI,CAACkB,IAAI,CAAC;QAAErB,IAAI,EAAE,EAAE;QAAEI,KAAK,EAAE,IAAI;QAAEC,WAAW,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAK,CAAC;IACjF;IAEA,MAAMgB,UAAU,GAAIC,KAAK,IAAK;MAC5BxB,QAAQ,CAACS,KAAK,CAACL,IAAI,CAACqB,MAAM,CAACD,KAAK,EAAE,CAAC;IACrC;IAEA,MAAME,WAAW,GAAGA,CAAA,KAAM;MACxB;MACA,MAAMC,OAAO,GAAG;QACdC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QACd7B,IAAI,EAAED,QAAQ,CAACS,KAAK,CAACR,IAAI;QACzB8B,KAAK,EAAE/B,QAAQ,CAACS,KAAK,CAACN,YAAY,IAAI,mDAAmD;QAAE;QAC3FD,IAAI,EAAEF,QAAQ,CAACS,KAAK,CAACP,IAAI,CAAC8B,KAAK,CAAC,MAAM,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACxB,IAAI,CAAC,CAAC,CAAC,CAACyB,MAAM,CAACC,OAAO,CAAC;QAC1EC,MAAM,EAAE,GAAG;QAAE;QACbC,KAAK,EAAE,CAAC;QACRlC,IAAI,EAAEJ,QAAQ,CAACS,KAAK,CAACL,IAAI,CAAC+B,MAAM,CAACvB,CAAC,IAAIA,CAAC,CAACX,IAAI,IAAIW,CAAC,CAACP,KAAK,CAAC,CAAC4B,GAAG,CAAC,CAACrB,CAAC,EAAE2B,CAAC,MAAM;UACtEX,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGS,CAAC;UAClBtC,IAAI,EAAEW,CAAC,CAACX,IAAI;UACZuC,YAAY,EAAE5B,CAAC,CAACP,KAAK;UACrBoC,aAAa,EAAEC,IAAI,CAACC,KAAK,CAAC/B,CAAC,CAACP,KAAK,GAAG,GAAG,CAAC;UAAE;UAC1CC,WAAW,EAAEM,CAAC,CAACN,WAAW,IAAI,MAAM;UACpCgC,KAAK,EAAE,CAAC;UACRD,MAAM,EAAE,GAAG;UACX9B,IAAI,EAAEK,CAAC,CAACL,IAAI;UACZqC,QAAQ,EAAEL,CAAC,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC;QACtC,CAAC,CAAC;MACJ;MAEAzC,IAAI,CAAC,UAAU,EAAE6B,OAAO;;MAExB;MACAkB,KAAK,CAAC,OAAOlB,OAAO,CAAC1B,IAAI,oBAAoB;MAC7CD,QAAQ,CAACS,KAAK,GAAG;QACfR,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,YAAY,EAAE,IAAI;QAClBC,IAAI,EAAE,CAAC;UAAEH,IAAI,EAAE,EAAE;UAAEI,KAAK,EAAE,IAAI;UAAEC,WAAW,EAAE,EAAE;UAAEC,IAAI,EAAE;QAAK,CAAC;MAC/D;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}